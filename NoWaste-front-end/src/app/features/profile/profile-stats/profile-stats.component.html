<div class="max-w-4xl">
  <h2 class="text-xl font-semibold text-[#264653] mb-6 flex items-center">
    <i class="fas fa-chart-bar mr-2"></i> Your Activity Statistics
  </h2>

  <div *ngIf="isLoading" class="flex justify-center py-8">
    <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-[#2A9D8F]"></div>
  </div>

  <div *ngIf="!isLoading && userStats">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
      <div class="bg-[#264653]/5 p-4 rounded-lg">
        <h3 class="text-[#264653]/70 text-sm font-medium">Total Donations</h3>
        <p class="text-2xl font-bold text-[#2A9D8F]">{{ userStats.totalDonations || 0 }}</p>
      </div>

      <div class="bg-[#264653]/5 p-4 rounded-lg">
        <h3 class="text-[#264653]/70 text-sm font-medium">Active Listings</h3>
        <p class="text-2xl font-bold text-[#2A9D8F]">{{ userStats.activeListings || 0 }}</p>
      </div>

      <div class="bg-[#264653]/5 p-4 rounded-lg">
        <h3 class="text-[#264653]/70 text-sm font-medium">Total Collections</h3>
        <p class="text-2xl font-bold text-[#2A9D8F]">{{ userStats.totalCollections || 0 }}</p>
      </div>

      <div class="bg-[#264653]/5 p-4 rounded-lg">
        <h3 class="text-[#264653]/70 text-sm font-medium">Rating</h3>
        <p class="text-2xl font-bold text-[#2A9D8F]">{{ userStats.averageRating ? (userStats.averageRating | number:'1.1-1') : 0 }}/5</p>
      </div>
    </div>

    <h3 class="text-lg font-medium text-[#264653] mb-4 flex items-center">
      <i class="fas fa-leaf text-green-500 mr-2"></i> Environmental Impact
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
      <div class="bg-[#264653]/5 p-4 rounded-lg">
        <h3 class="text-[#264653]/70 text-sm font-medium">Food Waste Prevented</h3>
      <!--  <p class="text-2xl font-bold text-[#2A9D8F]">{{ userStats.savedFoodWeight || 0 }} kg</p>-->
      </div>

      <div class="bg-[#264653]/5 p-4 rounded-lg">
        <h3 class="text-[#264653]/70 text-sm font-medium">CO2 Emissions Saved</h3>
       <!-- <p class="text-2xl font-bold text-[#2A9D8F]">{{ userStats.co2Saved || 0 }} kg</p>-->
      </div>

      <div class="bg-[#264653]/5 p-4 rounded-lg">
        <h3 class="text-[#264653]/70 text-sm font-medium">Water Saved</h3>
       <!-- <p class="text-2xl font-bold text-[#2A9D8F]">{{ userStats.waterSaved || 0 }} L</p>-->
      </div>
    </div>

    <!-- Si vous avez des données d'activité récente, sinon vous pouvez supprimer cette section -->
    <div *ngIf="false" class="bg-[#264653]/5 p-6 rounded-lg">
      <h3 class="text-lg font-medium text-[#264653] mb-4 flex items-center">
        <i class="fas fa-history mr-2"></i> Recent Activity
      </h3>
      <p class="text-center text-[#264653]/70 py-4">Activity data not available</p>
    </div>
  </div>

  <div *ngIf="!isLoading && !userStats" class="py-8 text-center">
    <p class="text-[#264653]/70">Failed to load statistics. Please try again later.</p>
    <button
      (click)="loadStats()"
      class="mt-4 bg-[#2A9D8F]/10 hover:bg-[#2A9D8F]/20 text-[#2A9D8F] px-4 py-2 rounded-md transition-colors"
    >
      <i class="fas fa-sync-alt mr-1"></i> Reload Stats
    </button>
  </div>
</div>
